@startuml 英雄机单例模式
'https://plantuml.com/class-diagram

package 飞机大战游戏 {
    class Client {
        + main(): void
        + createGame(): void
    }
    
    class HeroAircraft {
        - instance: HeroAircraft
        - health: int
        - positionX: int
        - positionY: int
        
        - HeroAircraft()
        + {static} getInstance(): HeroAircraft
        + getHealth(): int
        + setHealth(int): void
        + move(int, int): void
        + decreaseHealth(int): void
        + isDestroyed(): boolean
    }
    
    ' 自关联，单例类持有自己的实例
    HeroAircraft -- HeroAircraft
    
    ' 客户端调用单例的获取实例方法
    Client --> HeroAircraft
    
    ' 显示单例模式的关键代码
    note right of HeroAircraft
        if(instance == null) {
            // 线程安全的单例实现
            synchronized(HeroAircraft.class) {
                if(instance == null) {
                    instance = new HeroAircraft();
                }
            }
        }
        return instance;
    end note
    
    ' 说明文字
    note bottom of HeroAircraft
        英雄机单例模式说明：
        1. 私有静态实例变量保证全局唯一实例
        2. 私有构造函数防止外部直接创建实例
        3. 公共静态getInstance方法提供全局访问点
        4. 包含生命值等属性，被敌机击中时减少
        5. 双检锁模式确保线程安全
    end note
}

@enduml